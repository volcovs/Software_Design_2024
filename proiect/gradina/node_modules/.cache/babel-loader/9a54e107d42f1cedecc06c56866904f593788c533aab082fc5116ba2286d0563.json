{"ast":null,"code":"import React, { Component } from 'react';\nimport axios from 'axios';\nimport \"../style/LogInPage.css\";\nimport LogInPresenter from \"../presenter/LogInPresenter\";\nimport { useCookies } from 'react-cookie';\nclass Login extends Component {\n  constructor(props) {\n    var _s = $RefreshSig$();\n    super(props);\n    this.handleLogin = _s(async () => {\n      _s();\n      const {\n        username,\n        password\n      } = this.state;\n      try {\n        // Perform login logic, here I'm assuming you're using axios\n        const response = await axios.post('/login', {\n          username,\n          password\n        });\n        if (response.data.success) {\n          const {\n            setCookie\n          } = useCookies(['role']);\n          setCookie('role', response.data.role, {\n            path: '/'\n          }); // Update the role cookie value\n          // Redirect or handle successful login\n        } else {\n          // Handle login failure\n        }\n      } catch (error) {\n        // Handle error\n      }\n    }, \"rXlFmH0v0TRfovZymu+3CtT39sk=\", false, function () {\n      return [useCookies];\n    });\n    this.state = {\n      username: '',\n      password: '',\n      usernameError: '',\n      passwordError: '',\n      error: true,\n      dict: [],\n      lastLang: null\n    };\n    this.presenter = new LogInPresenter(this);\n  }\n  componentDidMount() {\n    this.presenter.fetchLanguageInfo();\n  }\n  render() {\n    return this.presenter.render();\n  }\n}\nexport default Login;","map":{"version":3,"names":["React","Component","axios","LogInPresenter","useCookies","Login","constructor","props","_s","$RefreshSig$","handleLogin","username","password","state","response","post","data","success","setCookie","role","path","error","usernameError","passwordError","dict","lastLang","presenter","componentDidMount","fetchLanguageInfo","render"],"sources":["D:/Personal_Data/an III/sem_II/PS/proiect/gradina/src/view/LogInPage.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport \"../style/LogInPage.css\"\r\nimport LogInPresenter from \"../presenter/LogInPresenter\";\r\nimport { useCookies } from 'react-cookie';\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            usernameError: '',\r\n            passwordError: '',\r\n            error: true,\r\n            dict: [],\r\n            lastLang: null\r\n        };\r\n\r\n        this.presenter = new LogInPresenter(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.presenter.fetchLanguageInfo();\r\n    }\r\n\r\n    handleLogin = async () => {\r\n        const { username, password } = this.state;\r\n        try {\r\n            // Perform login logic, here I'm assuming you're using axios\r\n            const response = await axios.post('/login', { username, password });\r\n            if (response.data.success) {\r\n                const { setCookie } = useCookies(['role']);\r\n                setCookie('role', response.data.role, { path: '/' }); // Update the role cookie value\r\n                // Redirect or handle successful login\r\n            } else {\r\n                // Handle login failure\r\n            }\r\n        } catch (error) {\r\n            // Handle error\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return this.presenter.render();\r\n    }\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,wBAAwB;AAC/B,OAAOC,cAAc,MAAM,6BAA6B;AACxD,SAASC,UAAU,QAAQ,cAAc;AAEzC,MAAMC,KAAK,SAASJ,SAAS,CAAC;EAC1BK,WAAWA,CAACC,KAAK,EAAE;IAAA,IAAAC,EAAA,GAAAC,YAAA;IACf,KAAK,CAACF,KAAK,CAAC;IAAC,KAkBjBG,WAAW,GAAAF,EAAA,CAAG,YAAY;MAAAA,EAAA;MACtB,MAAM;QAAEG,QAAQ;QAAEC;MAAS,CAAC,GAAG,IAAI,CAACC,KAAK;MACzC,IAAI;QACA;QACA,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAAC,QAAQ,EAAE;UAAEJ,QAAQ;UAAEC;QAAS,CAAC,CAAC;QACnE,IAAIE,QAAQ,CAACE,IAAI,CAACC,OAAO,EAAE;UACvB,MAAM;YAAEC;UAAU,CAAC,GAAGd,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC;UAC1Cc,SAAS,CAAC,MAAM,EAAEJ,QAAQ,CAACE,IAAI,CAACG,IAAI,EAAE;YAAEC,IAAI,EAAE;UAAI,CAAC,CAAC,CAAC,CAAC;UACtD;QACJ,CAAC,MAAM;UACH;QAAA;MAER,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZ;MAAA;IAER,CAAC;MAAA,QATiCjB,UAAU;IAAA;IAvBxC,IAAI,CAACS,KAAK,GAAG;MACTF,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZU,aAAa,EAAE,EAAE;MACjBC,aAAa,EAAE,EAAE;MACjBF,KAAK,EAAE,IAAI;MACXG,IAAI,EAAE,EAAE;MACRC,QAAQ,EAAE;IACd,CAAC;IAED,IAAI,CAACC,SAAS,GAAG,IAAIvB,cAAc,CAAC,IAAI,CAAC;EAC7C;EAEAwB,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAACD,SAAS,CAACE,iBAAiB,CAAC,CAAC;EACtC;EAmBAC,MAAMA,CAAA,EAAG;IACL,OAAO,IAAI,CAACH,SAAS,CAACG,MAAM,CAAC,CAAC;EAClC;AACJ;AAEA,eAAexB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}