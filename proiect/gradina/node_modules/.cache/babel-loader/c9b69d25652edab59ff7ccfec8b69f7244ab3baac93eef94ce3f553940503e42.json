{"ast":null,"code":"var _jsxFileName = \"D:\\\\Personal_Data\\\\an III\\\\sem_II\\\\PS\\\\proiect\\\\gradina\\\\src\\\\view\\\\LogInPage.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.onButtonClickLogIn = () => {\n      axios.get(`http://localhost:8080/users/login?username=${this.state.username}&password=${this.state.password}`).then(response => {\n        this.setState({\n          user: response.data\n        });\n        if (response.data) {\n          if (response.data.adminStatus === 'yes') {\n            this.props.onChangePage(\"administrator\", 1, 0, 0, this.props.lang);\n          } else {\n            this.props.onChangePage(\"employee\", 1, 0, 0, this.props.lang);\n          }\n        } else {\n          this.setState({\n            error: false\n          });\n        }\n      }).catch(error => {\n        console.error('Error during login:', error);\n      });\n    };\n    this.onButtonClickCancel = () => {\n      this.props.onChangePage(this.props.role, 1, 0, 0, this.props.lang);\n    };\n    this.state = {\n      username: '',\n      password: '',\n      usernameError: '',\n      passwordError: '',\n      error: true,\n      dict: [],\n      lastLang: null\n    };\n  }\n  componentDidMount() {\n    this.fetchLanguageInfo();\n  }\n  fetchLanguageInfo() {\n    if (this.props.lang !== this.state.lastLang) {\n      axios.get(`http://localhost:8080/lang/get?lang=${this.props.lang}`).then(response => {\n        this.setState({\n          dict: response.data,\n          lastLang: this.props.lang\n        });\n        console.log(response.data);\n      }).catch(error => {\n        console.error('Error fetching language info:', error);\n      });\n    }\n  }\n  render() {\n    const {\n      username,\n      password,\n      error\n    } = this.state;\n    if (this.props.lang !== this.state.lastLang) {\n      axios.get(`http://localhost:8080/lang/get?lang=${this.props.lang}`).then(response => {\n        this.setState({\n          dict: response.data,\n          lastLang: this.props.lang\n        });\n        console.log(response.data);\n      }).catch(error => {\n        console.error('Error fetching language info:', error);\n      });\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          value: username,\n          placeholder: \"Enter username\",\n          onChange: ev => this.setState({\n            username: ev.target.value\n          }),\n          className: 'inputBox'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          placeholder: \"Enter password\",\n          onChange: ev => this.setState({\n            password: ev.target.value\n          }),\n          className: 'inputBox'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"inputButton\",\n          onClick: this.onButtonClickCancel,\n          text: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"inputButton\",\n          onClick: this.onButtonClickLogIn,\n          value: 'Log in'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"par\", {\n        hidden: !!error,\n        style: {\n          color: 'red',\n          size: 24\n        },\n        children: \"Error during login!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Login;","map":{"version":3,"names":["React","Component","axios","jsxDEV","_jsxDEV","Login","constructor","props","onButtonClickLogIn","get","state","username","password","then","response","setState","user","data","adminStatus","onChangePage","lang","error","catch","console","onButtonClickCancel","role","usernameError","passwordError","dict","lastLang","componentDidMount","fetchLanguageInfo","log","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","placeholder","onChange","ev","target","type","onClick","text","hidden","style","color","size"],"sources":["D:/Personal_Data/an III/sem_II/PS/proiect/gradina/src/view/LogInPage.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            usernameError: '',\r\n            passwordError: '',\r\n            error: true,\r\n            dict: [],\r\n            lastLang: null\r\n        };\r\n    }\r\n\r\n    onButtonClickLogIn = () => {\r\n        axios.get(`http://localhost:8080/users/login?username=${this.state.username}&password=${this.state.password}`)\r\n            .then(response => {\r\n                this.setState({ user: response.data });\r\n                if (response.data) {\r\n                    if (response.data.adminStatus === 'yes') {\r\n                        this.props.onChangePage(\"administrator\", 1, 0, 0, this.props.lang);\r\n                    } else {\r\n                        this.props.onChangePage(\"employee\", 1, 0, 0, this.props.lang);\r\n                    }\r\n                } else {\r\n                    this.setState({ error: false });\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('Error during login:', error);\r\n            });\r\n    }\r\n\r\n    onButtonClickCancel = () => {\r\n        this.props.onChangePage(this.props.role, 1, 0, 0, this.props.lang);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchLanguageInfo();\r\n    }\r\n\r\n    fetchLanguageInfo() {\r\n        if (this.props.lang !== this.state.lastLang) {\r\n            axios.get(`http://localhost:8080/lang/get?lang=${this.props.lang}`)\r\n                .then(response => {\r\n                    this.setState({ dict: response.data, lastLang: this.props.lang });\r\n                    console.log(response.data);\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error fetching language info:', error);\r\n                });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { username, password, error } = this.state;\r\n        if (this.props.lang !== this.state.lastLang) {\r\n            axios.get(`http://localhost:8080/lang/get?lang=${this.props.lang}`)\r\n                .then(response => {\r\n                    this.setState({dict: response.data, lastLang: this.props.lang });\r\n                    console.log(response.data);\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error fetching language info:', error);\r\n                });\r\n        }\r\n\r\n        return (\r\n            <div className=\"mainContainer\">\r\n                <div>\r\n                    <h1>Login</h1>\r\n                </div>\r\n                <br />\r\n                <div className=\"inputContainer\">\r\n                    <input\r\n                        value={username}\r\n                        placeholder=\"Enter username\"\r\n                        onChange={(ev) => this.setState({ username: ev.target.value })}\r\n                        className={'inputBox'}\r\n                    />\r\n                </div>\r\n                <br />\r\n                <div className=\"inputContainer\">\r\n                    <input\r\n                        type=\"password\"\r\n                        value={password}\r\n                        placeholder=\"Enter password\"\r\n                        onChange= {(ev) => this.setState({ password: ev.target.value })}\r\n                        className={'inputBox'}\r\n                    />\r\n                </div>\r\n                <br />\r\n                <div>\r\n                    <button className=\"inputButton\" onClick={this.onButtonClickCancel} text={\"Cancel\"}/>\r\n                    <button className=\"inputButton\" onClick={this.onButtonClickLogIn} value={'Log in'}/>\r\n                </div>\r\n\r\n                <par hidden={!!error} style={{ color:'red', size: 24}}>Error during login!</par>\r\n            </div>);\r\n      }\r\n}\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}