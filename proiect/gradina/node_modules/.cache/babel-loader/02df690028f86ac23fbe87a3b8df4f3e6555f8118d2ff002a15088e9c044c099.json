{"ast":null,"code":"var _jsxFileName = \"D:\\\\Personal_Data\\\\an III\\\\sem_II\\\\PS\\\\proiect\\\\gradina\\\\src\\\\presenter\\\\LogInPresenter.js\";\nimport axios from \"axios\";\nimport React from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass LogInPresenter {\n  constructor(page) {\n    this.onButtonClickLogIn = () => {\n      axios.get(`http://localhost:8080/users/login?username=${this.page.state.username}&password=${this.page.state.password}`).then(response => {\n        this.page.setState({\n          user: response.data\n        });\n        if (response.data) {\n          if (response.data.adminStatus === 'yes') {\n            this.page.props.onChangePage(\"administrator\", 1, 0, 0, this.page.props.lang);\n          } else {\n            this.page.props.onChangePage(\"employee\", 1, 0, 0, this.page.props.lang);\n          }\n        } else {\n          this.page.setState({\n            error: false\n          });\n        }\n      }).catch(error => {\n        console.error('Error during login:', error);\n      });\n    };\n    this.onButtonClickCancel = () => {\n      this.page.props.onChangePage(this.page.props.role, 1, 0, 0, this.page.props.lang);\n    };\n    this.page = page;\n  }\n  fetchLanguageInfo() {\n    if (this.page.props.lang !== this.page.state.lastLang) {\n      axios.get(`http://localhost:8080/lang/get?lang=${this.page.props.lang}`).then(response => {\n        this.page.setState({\n          dict: response.data,\n          lastLang: this.page.props.lang\n        });\n        console.log(response.data);\n      }).catch(error => {\n        console.error('Error fetching language info:', error);\n      });\n    }\n  }\n  render() {\n    const {\n      username,\n      password,\n      error\n    } = this.page.state;\n    if (this.page.props.lang !== this.page.state.lastLang) {\n      axios.get(`http://localhost:8080/lang/get?lang=${this.page.props.lang}`).then(response => {\n        this.page.setState({\n          dict: response.data,\n          lastLang: this.page.props.lang\n        });\n        console.log(response.data);\n      }).catch(error => {\n        console.error('Error fetching language info:', error);\n      });\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mainContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: this.page.state.dict[\"lang\"] ? this.page.state.dict[\"lang\"][\"Log in page\"] : \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          value: username,\n          placeholder: this.page.state.dict[\"lang\"] ? this.page.state.dict[\"lang\"][\"Username\"] : \"Enter username\",\n          onChange: ev => this.page.setState({\n            username: ev.target.value\n          }),\n          className: \"inputBox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          placeholder: this.page.state.dict[\"lang\"] ? this.page.state.dict[\"lang\"][\"Password\"] : \"Password\",\n          onChange: ev => this.page.setState({\n            password: ev.target.value\n          }),\n          className: 'inputBox'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"inputButton\",\n          onClick: this.onButtonClickCancel,\n          children: this.page.state.dict[\"lang\"] ? this.page.state.dict[\"lang\"][\"Cancel\"] : \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"inputButton\",\n          onClick: this.onButtonClickLogIn,\n          children: this.page.state.dict[\"lang\"] ? this.page.state.dict[\"lang\"][\"Log in\"] : \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"par\", {\n        hidden: !!error,\n        style: {\n          color: 'red',\n          size: 24\n        },\n        children: this.page.state.dict[\"lang\"] ? this.page.state.dict[\"lang\"][\"Login error\"] : \"Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default LogInPresenter;","map":{"version":3,"names":["axios","React","useCookies","jsxDEV","_jsxDEV","LogInPresenter","constructor","page","onButtonClickLogIn","get","state","username","password","then","response","setState","user","data","adminStatus","props","onChangePage","lang","error","catch","console","onButtonClickCancel","role","fetchLanguageInfo","lastLang","dict","log","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","placeholder","onChange","ev","target","type","onClick","hidden","style","color","size"],"sources":["D:/Personal_Data/an III/sem_II/PS/proiect/gradina/src/presenter/LogInPresenter.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\nimport {useCookies} from \"react-cookie\";\r\n\r\nclass LogInPresenter {\r\n\r\n    constructor(page) {\r\n        this.page = page;\r\n    }\r\n\r\n    onButtonClickLogIn = () => {\r\n        axios.get(`http://localhost:8080/users/login?username=${this.page.state.username}&password=${this.page.state.password}`)\r\n            .then(response => {\r\n                this.page.setState({ user: response.data });\r\n                if (response.data) {\r\n                    if (response.data.adminStatus === 'yes') {\r\n                        this.page.props.onChangePage(\"administrator\", 1, 0, 0, this.page.props.lang);\r\n                    } else {\r\n                        this.page.props.onChangePage(\"employee\", 1, 0, 0, this.page.props.lang);\r\n                    }\r\n                } else {\r\n                    this.page.setState({ error: false });\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('Error during login:', error);\r\n            });\r\n    }\r\n\r\n    onButtonClickCancel = () => {\r\n        this.page.props.onChangePage(this.page.props.role, 1, 0, 0, this.page.props.lang);\r\n    }\r\n\r\n    fetchLanguageInfo() {\r\n        if (this.page.props.lang !== this.page.state.lastLang) {\r\n            axios.get(`http://localhost:8080/lang/get?lang=${this.page.props.lang}`)\r\n                .then(response => {\r\n                    this.page.setState({ dict: response.data, lastLang: this.page.props.lang });\r\n                    console.log(response.data);\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error fetching language info:', error);\r\n                });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { username, password, error } = this.page.state;\r\n        if (this.page.props.lang !== this.page.state.lastLang) {\r\n            axios.get(`http://localhost:8080/lang/get?lang=${this.page.props.lang}`)\r\n                .then(response => {\r\n                    this.page.setState({dict: response.data, lastLang: this.page.props.lang });\r\n                    console.log(response.data);\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error fetching language info:', error);\r\n                });\r\n        }\r\n\r\n        return (\r\n            <div className=\"mainContainer\">\r\n                <div>\r\n                    <h1>{this.page.state.dict[\"lang\"] ? this.page.state.dict[\"lang\"][\"Log in page\"] : \"Login\"}</h1>\r\n                </div>\r\n                <br />\r\n                <div className=\"inputContainer\">\r\n                    <input\r\n                        value={username}\r\n                        placeholder={this.page.state.dict[\"lang\"] ? this.page.state.dict[\"lang\"][\"Username\"] : \"Enter username\"}\r\n                        onChange={(ev) => this.page.setState({ username: ev.target.value })}\r\n                        className=\"inputBox\"\r\n                    />\r\n                </div>\r\n                <br />\r\n                <div className=\"inputContainer\">\r\n                    <input\r\n                        type=\"password\"\r\n                        value={password}\r\n                        placeholder={this.page.state.dict[\"lang\"] ? this.page.state.dict[\"lang\"][\"Password\"] : \"Password\"}\r\n                        onChange= {(ev) => this.page.setState({ password: ev.target.value })}\r\n                        className={'inputBox'}\r\n                    />\r\n                </div>\r\n                <br />\r\n                <div>\r\n                    <button className=\"inputButton\" onClick={this.onButtonClickCancel}>{this.page.state.dict[\"lang\"] ? this.page.state.dict[\"lang\"][\"Cancel\"] : \"Cancel\"}</button>\r\n                    <button className=\"inputButton\" onClick={this.onButtonClickLogIn}>{this.page.state.dict[\"lang\"] ? this.page.state.dict[\"lang\"][\"Log in\"] : \"Log in\"}</button>\r\n                </div>\r\n\r\n                <par hidden={!!error} style={{ color:'red', size: 24}}>{this.page.state.dict[\"lang\"] ? this.page.state.dict[\"lang\"][\"Login error\"] : \"Error\"}</par>\r\n            </div>);\r\n    }\r\n\r\n}\r\n\r\nexport default LogInPresenter;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}