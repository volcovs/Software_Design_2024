{"ast":null,"code":"import { useRef, useEffect, useDebugValue } from 'react';\nimport useMounted from './useMounted';\n\n/**\n * a useEffect() hook with customized depedency comparision\n *\n * @param effect The effect callback\n * @param dependencies A list of dependencies\n * @param isEqual A function comparing the next and previous dependencyLists\n */\n\n/**\n * a useEffect() hook with customized depedency comparision\n *\n * @param effect The effect callback\n * @param dependencies A list of dependencies\n * @param options\n * @param options.isEqual A function comparing the next and previous dependencyLists\n * @param options.effectHook the underlying effect hook used, defaults to useEffect\n */\n\nfunction useCustomEffect(effect, dependencies, isEqualOrOptions) {\n  const isMounted = useMounted();\n  const {\n    isEqual,\n    effectHook = useEffect\n  } = typeof isEqualOrOptions === 'function' ? {\n    isEqual: isEqualOrOptions\n  } : isEqualOrOptions;\n  const dependenciesRef = useRef();\n  dependenciesRef.current = dependencies;\n  const cleanupRef = useRef(null);\n  effectHook(() => {\n    // If the ref the is `null` it's either the first effect or the last effect\n    // ran and was cleared, meaning _this_ update should run, b/c the equality\n    // check failed on in the cleanup of the last effect.\n    if (cleanupRef.current === null) {\n      const cleanup = effect();\n      cleanupRef.current = () => {\n        if (isMounted() && isEqual(dependenciesRef.current, dependencies)) {\n          return;\n        }\n        cleanupRef.current = null;\n        if (cleanup) cleanup();\n      };\n    }\n    return cleanupRef.current;\n  });\n  useDebugValue(effect);\n}\nexport default useCustomEffect;","map":{"version":3,"names":["useRef","useEffect","useDebugValue","useMounted","useCustomEffect","effect","dependencies","isEqualOrOptions","isMounted","isEqual","effectHook","dependenciesRef","current","cleanupRef","cleanup"],"sources":["D:/Personal_Data/an III/sem_II/PS/proiect/gradina/node_modules/@restart/hooks/esm/useCustomEffect.js"],"sourcesContent":["import { useRef, useEffect, useDebugValue } from 'react';\nimport useMounted from './useMounted';\n\n/**\n * a useEffect() hook with customized depedency comparision\n *\n * @param effect The effect callback\n * @param dependencies A list of dependencies\n * @param isEqual A function comparing the next and previous dependencyLists\n */\n\n/**\n * a useEffect() hook with customized depedency comparision\n *\n * @param effect The effect callback\n * @param dependencies A list of dependencies\n * @param options\n * @param options.isEqual A function comparing the next and previous dependencyLists\n * @param options.effectHook the underlying effect hook used, defaults to useEffect\n */\n\nfunction useCustomEffect(effect, dependencies, isEqualOrOptions) {\n  const isMounted = useMounted();\n  const {\n    isEqual,\n    effectHook = useEffect\n  } = typeof isEqualOrOptions === 'function' ? {\n    isEqual: isEqualOrOptions\n  } : isEqualOrOptions;\n  const dependenciesRef = useRef();\n  dependenciesRef.current = dependencies;\n  const cleanupRef = useRef(null);\n  effectHook(() => {\n    // If the ref the is `null` it's either the first effect or the last effect\n    // ran and was cleared, meaning _this_ update should run, b/c the equality\n    // check failed on in the cleanup of the last effect.\n    if (cleanupRef.current === null) {\n      const cleanup = effect();\n      cleanupRef.current = () => {\n        if (isMounted() && isEqual(dependenciesRef.current, dependencies)) {\n          return;\n        }\n        cleanupRef.current = null;\n        if (cleanup) cleanup();\n      };\n    }\n    return cleanupRef.current;\n  });\n  useDebugValue(effect);\n}\nexport default useCustomEffect;"],"mappings":"AAAA,SAASA,MAAM,EAAEC,SAAS,EAAEC,aAAa,QAAQ,OAAO;AACxD,OAAOC,UAAU,MAAM,cAAc;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,eAAeA,CAACC,MAAM,EAAEC,YAAY,EAAEC,gBAAgB,EAAE;EAC/D,MAAMC,SAAS,GAAGL,UAAU,CAAC,CAAC;EAC9B,MAAM;IACJM,OAAO;IACPC,UAAU,GAAGT;EACf,CAAC,GAAG,OAAOM,gBAAgB,KAAK,UAAU,GAAG;IAC3CE,OAAO,EAAEF;EACX,CAAC,GAAGA,gBAAgB;EACpB,MAAMI,eAAe,GAAGX,MAAM,CAAC,CAAC;EAChCW,eAAe,CAACC,OAAO,GAAGN,YAAY;EACtC,MAAMO,UAAU,GAAGb,MAAM,CAAC,IAAI,CAAC;EAC/BU,UAAU,CAAC,MAAM;IACf;IACA;IACA;IACA,IAAIG,UAAU,CAACD,OAAO,KAAK,IAAI,EAAE;MAC/B,MAAME,OAAO,GAAGT,MAAM,CAAC,CAAC;MACxBQ,UAAU,CAACD,OAAO,GAAG,MAAM;QACzB,IAAIJ,SAAS,CAAC,CAAC,IAAIC,OAAO,CAACE,eAAe,CAACC,OAAO,EAAEN,YAAY,CAAC,EAAE;UACjE;QACF;QACAO,UAAU,CAACD,OAAO,GAAG,IAAI;QACzB,IAAIE,OAAO,EAAEA,OAAO,CAAC,CAAC;MACxB,CAAC;IACH;IACA,OAAOD,UAAU,CAACD,OAAO;EAC3B,CAAC,CAAC;EACFV,aAAa,CAACG,MAAM,CAAC;AACvB;AACA,eAAeD,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}